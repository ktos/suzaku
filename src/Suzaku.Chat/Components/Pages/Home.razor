@page "/"
@page "/chat/{channel}"
@using Suzaku.Chat.Services
@rendermode InteractiveServer
@inject ChatHistory ChatHistory

<PageTitle>Suzaku – @(ChatHistory.CurrentChannel.DisplayName)</PageTitle>

<ChatWindow></ChatWindow>

@code {
    [Parameter] public string? Channel { get; set; }

    protected override void OnInitialized()
    {
        if (Channel is null)
        {
            ChatHistory.SetDefaultChannelAsCurrent();
        }
        else
        {
            ChatHistory.SetChannelAsCurrent(Channel);
        }

        base.OnInitialized();
    }

}