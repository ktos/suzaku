@page "/"
@page "/chat/{chat}"
@using Suzaku.Chat.Services
@rendermode InteractiveServer
@inject ChatHistory ChatHistory

<PageTitle>Suzaku – Home</PageTitle>

<ChatWindow></ChatWindow>

@code {
    [Parameter] public string? Chat { get; set; }

    protected override void OnInitialized()
    {
        if (Chat is null)
        {
            ChatHistory.SetDefaultChannelAsCurrent();
        }
        else
        {
            ChatHistory.SetChannelAsCurrent(Chat);
        }

        base.OnInitialized();
    }

}